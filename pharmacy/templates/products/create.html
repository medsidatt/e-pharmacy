{% extends 'base.html' %}

{% block title %}Create Product{% endblock %}

{% block content %}
<h1 class="mt-4">Create Product</h1>

<form method="post" id="productForm">
    {% csrf_token %}

{#    <div class="mb-3">#}
{#        <label for="id_category">Category</label>#}
{#        <select id="id_category" name="category" class="form-control select2">#}
{#            <option value="">Select or create a category...</option>#}
{#        </select>#}
{#    </div>#}

    <div class="mb-3">
        {{ form.as_p }}
    </div>

    <button type="submit" class="btn btn-primary">Add Product</button>
</form>

<!-- Add jQuery & Select2 -->
{#<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>#}
{#<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />#}
{#<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>#}

<!-- Enable Select2 with AJAX -->
{#<script>#}
{#    $(document).ready(function() {#}
{#        $('#id_category').select2({#}
{#            placeholder: "Select or create a category...",#}
{#            allowClear: true,#}
{#            ajax: {#}
{#                url: "{% url 'category_list' %}",#}
{#                dataType: 'json',#}
{#                delay: 250,#}
{#                data: function (params) {#}
{#                    return { q: params.term }; // Search query#}
{#                },#}
{#                processResults: function (data) {#}
{#                    return { results: data.map(item => ({ id: item.id, text: item.name })) };#}
{#                },#}
{#                cache: true#}
{#            }#}
{#        });#}
{#    });#}
{#</script>#}

{% endblock %}
